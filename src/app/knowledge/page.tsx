import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";

const articles = [
  {
    title: "Как работать с недельной сеткой календаря",
    steps: [
      "Перейдите в раздел `Календарь` и включите режим `Неделя` + `Календарь`.",
      "Сверху отображаются дни недели, слева ось времени с шагом 1 час.",
      "Карточки событий стоят в реальном временном интервале, поэтому сразу видны окна и пересечения.",
      "Клик по пустому месту в колонке дня открывает создание события на выбранное время."
    ]
  },
  {
    title: "Как создать групповое занятие",
    steps: [
      "Откройте форму создания события в календаре.",
      "Выберите тип `Групповое`.",
      "В блоке участников отметьте галочками нужных преподавателей и студентов.",
      "Сохраните событие и проверьте, что все участники добавлены в карточку."
    ]
  },
  {
    title: "Как создать административное мероприятие",
    steps: [
      "В форме создания выберите административный тип активности.",
      "Для админ-мероприятий выбираются только преподаватели/админы, без студентов.",
      "Отметьте участников галочками и сохраните событие.",
      "Проверьте событие в недельной сетке: оно должно появиться в нужный день и час."
    ]
  },
  {
    title: "Как использовать страницу Календарь педагога",
    steps: [
      "Откройте раздел `Календарь педагога` в верхнем меню.",
      "Сверху выберите преподавателя в фильтре.",
      "Переключатель `Мои занятия / Мои слоты` управляет режимом работы страницы.",
      "Переключатель `Календарь / Список` меняет вид отображения."
    ]
  },
  {
    title: "Режим Мои занятия в календаре педагога",
    steps: [
      "Выберите режим `Мои занятия`.",
      "Система покажет только события, где выбранный педагог назначен участником.",
      "В календарном виде занятия видны блоками по времени.",
      "В списочном виде занятия сгруппированы по дням недели."
    ]
  },
  {
    title: "Режим Мои слоты в календаре педагога",
    steps: [
      "Выберите режим `Мои слоты`.",
      "Клик по свободной ячейке календаря ставит или снимает слот доступности (30 минут).",
      "Выбранные слоты подсвечиваются полупрозрачным цветом.",
      "Слоты сохраняются для демо и загружаются при повторном открытии страницы."
    ]
  },
  {
    title: "Как проваливаться из родителей в карточку ребенка",
    steps: [
      "Откройте карточку родителя в разделе `Родители`.",
      "В блоке `Привязанные дети` нажмите на нужного ребенка.",
      "Система откроет раздел `Студенты` и автоматически покажет карточку выбранного ребенка.",
      "После открытия карточки ссылка в адресной строке очищается автоматически."
    ]
  },
  {
    title: "Как читать аналитику по часам",
    steps: [
      "В разделе `Аналитика` выберите период и при необходимости преподавателя.",
      "Синий в диаграмме: `часы план` (все события в периоде).",
      "Зеленый: `часы к оплате` только по событиям со статусом `Состоялось`.",
      "События со статусом `Запланировано` или `Не состоялось` в оплату не попадают."
    ]
  },
  {
    title: "Как смотреть детализацию показателей в аналитике",
    steps: [
      "В таблице свода нажмите на любое число: события, часы, доходимость.",
      "Откроется попап со списком событий, которые формируют выбранный показатель.",
      "Клик по строке в попапе открывает детальную карточку конкретного события.",
      "Для несостоявшихся событий в карточке отображается причина отмены."
    ]
  },
  {
    title: "Быстрый контроль перед стартом недели",
    steps: [
      "Откройте режим `Неделя` и проверьте заполненность сетки по часам.",
      "Убедитесь, что критичные окна преподавателей закрыты или отмечены слотами.",
      "Проверьте статусы прошлых занятий: все состоявшиеся должны быть переведены в `Состоялось`.",
      "После обновления статусов проверьте, что аналитика корректно пересчитала часы к оплате."
    ]
  }
];

export default function KnowledgePage() {
  return (
    <div className="space-y-6">
      <Card>
        <CardHeader>
          <CardTitle>База знаний</CardTitle>
          <CardDescription>
            Актуальные инструкции по календарям, аналитике, слотам преподавателей и работе с карточками.
          </CardDescription>
        </CardHeader>
      </Card>

      <div className="grid gap-6">
        {articles.map((article) => (
          <Card key={article.title}>
            <CardHeader>
              <CardTitle className="text-xl">{article.title}</CardTitle>
            </CardHeader>
            <CardContent>
              <ol className="list-decimal list-inside space-y-3 text-sm">
                {article.steps.map((step, idx) => (
                  <li key={idx} className="leading-relaxed">
                    {step}
                  </li>
                ))}
              </ol>
            </CardContent>
          </Card>
        ))}
      </div>
    </div>
  );
}

